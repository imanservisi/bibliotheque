<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
	<title>Bibliothèque</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<h1>Bibliothèque</h1>
		
		<div>
			<form action="#" th:action="@{/}" th:object="${book}" method="post">
				<div class="mb-3">
				<label for="bookTitle" class="form-label">Nom Série</label>
				<input th:field="*{name}" type="text" class="form-control" id="bookTitle" aria-describedby="bookTitle">
				<div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger"></div>
				</div>
				<div class="mb-3">
					<label for="volumeNumber" class="form-label">N° du volume</label>
					<input th:field="*{volume}" type="number" class="form-control" id="volumeNumber">
					<div th:if="${#fields.hasErrors('volume')}" th:errors="*{volume}" class="text-danger"></div>
				</div>
  
				<button type="submit" class="btn btn-primary">Ajouter</button>
			</form>
		</div>
		<div class="mt-3">
			<h2>Liste de mes BDs</h2>
			<table class="table">
			  <thead>
			    <tr>
			      <th scope="col">Nom Série</th>
			      <th scope="col">Volume</th>
				  <th scope="col">Actions</th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr th:each="book : ${books}">
			      <th scope="col" th:text="${book.name}">Nom Série</th>
			      <td th:text="${book.volume}">Volume</td>
				  <td>
					<a th:href="@{'/' + ${book.id}}" class="btn btn-success btn-sm">Modifier</a>
					<form th:action="@{'/' + ${book.id} + '/delete'}" method="post" style="display: inline;">
						<button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce livre ?')">Supprimer</button>
					</form>
				  </td>
			    </tr>
			  </tbody>
			</table>
		</div>
		
	</div>
</body>
</html>